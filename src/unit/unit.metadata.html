<!DOCTYPE html>

<html>
<head>
    <script src="../../external/okjs/ok.js" type="text/javascript"></script>
    <link href="unit.css" rel="stylesheet" type="text/css">

    <script src="../../external/jquery/jquery-1.6.2.js" type="text/javascript"></script>

    <script type="text/javascript">
        var unit = okjs({
            exceptions: 1, // enable for debugging
            verbose: true
        });


        var ramp;
        unit.test("setup",  function () {
            ramp = Ramp('', {
                playlistService : "data/mp2-playlist.advisor.xml"
            });
            unit.nequal( ramp, null, "ramp instance not null");

        });

        unit.test("metadata", function () {
            ramp.getMedia(45212699, unit.callback("got media", null,
                    function (media, data){
                        unit.nequal( media, null, "media not null");
                        unit.equal( media.metadata.title,
                                "Euro Contagion Risks Loom in Corporate Credit Market ",
                                "has right title");
                        unit.equal( media.sources.mp4,
                        'http://bitcast-g.bitgravity.com/morningstar/us/video2011/111117_bond_mstar.mp4',
                                "has right mp4 source");
                    }));
        });

        window.onload = function () {
            unit.start()
        };
    </script>

</head>
<body>


</body>
</html>