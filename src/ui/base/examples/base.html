<!doctype html>
<html>
<head>


    <!-- Dependency: jQuery -->
    <script src="../../../../external/jquery/jquery-1.6.2.js" type="text/javascript"></script>

    <!-- UI : Base -->
    <script src="../../base/ui.base.js" type="text/javascript"></script>
    <link href="../../base/ui.base.css" rel="stylesheet" type="text/css">


    <style>
        body {
            background:  #fff;
        }


        #target, #video {
            width: 600px;
            height: 250px;
        }

        .metaplayer {
            background: #888;
            outline: 5px solid blue;
        }

        .metaplayer-video {
            outline: 2px solid red;
            background: red;
        }
    </style>
</head>
<body>

<h3>Metaplayer &raquo; UI Base Plugin</h3>



<div>
    <button onclick="javascript:playit();">play</button>
    <button onclick="javascript:errorit();">error</button>
    <button onclick="javascript:breakit();">break</button>
    <button onclick="javascript:fixit();">fix</button>
    <button onclick="javascript:resizeit();">resize</button>
</div>

<div id="target" class="metaplayer">
    <video id='video' controls autoplay preload='none' >
    </video>
</div>

<script type="text/javascript">

    var video = document.getElementById('video')
    var t = $('#target');
    var v = $('#video');
    var p = v.parent();
    var src = t.html();


    video.addEventListener("playing", function (){
        console.log("playing raw event")
    });
    v.bind("playing", function (){
        console.log("playing bind event")
    });

    function breakit () {
        var c = $("<div>")
                .addClass("metaplayer-video")
                .appendTo(p)
                .append(v);
    }

    function playit () {
        video.src = "http://media.w3.org/2010/05/sintel/trailer.mp4";
        video.load();
    }

    function resizeit () {
        v.width( v.width() + 10 );
    }
    function fixit () {
        var c = v.clone(true, true);
        v.parent().append(c);
        v.remove();
    }
    function errorit () {
        console.log("error: " + video.error+ " .. "  + video.readyState );
    }

    playit();
    Ramp.metaplayer('#video');
</script>

</body>
</html>
